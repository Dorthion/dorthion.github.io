<!DOCTYPE html>
<head>
	<meta charset="UTF-8">
	<meta lang="PL">
	<title>Last game</title>
	<link type="text/css" rel="stylesheet" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
	<!--<script type="text/javascript" src="js.js"></script>-->
	<meta name="description" content="Witaj, tutaj znajdziesz fajna gierke" />
	<meta name="author" content="Dorthion" />
</head>
<body>
<canvas width="400px" height="620px">
</canvas>
<script>
	var plansza = document.querySelector('canvas');
	var ctx = plansza.getContext('2d');
	var k = new Kolko(100,100,25,"red",1,1)
	var x = 100,y=100;
	var arr=[];
	var radius = 70;
	
function random(min,max){
	return Math.random()*(max-min)+min;
}	

for(;x>0;x--)
{
arr[x]=new Kolko(random(0,400),random(0,400),random(5,30)
,'rgba(50,100,100,0.4)'
,random(1,10),random(1,10));
}

function Kolko(x,y,r,color,vx,vy)
{
	this.x=x;
	this.y=y;
	this.r=r;
	this.color=color;
	this.vy=vy;
	this.vx=vx;
}

Kolko.prototype.rysuj=function()
{	
	ctx.beginPath();
	ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI, false);
	ctx.fillStyle = "black";
	ctx.strokeStyle = 'rgba(0, 255, 255, 0.4)';
	ctx.fill();
	ctx.stroke();
}

Kolko.prototype.next=function(){
if(this.x+this.r<=0){
this.vx=-this.vx;

}
if(this.x+this.r>=620){
this.vx=-this.vx;

}
if(this.y+this.r>=620){
this.vy=-this.vy;

}
if(this.y+this.r<=0){
this.vy=-this.vy;

}
this.x+=this.vx;
this.y+=this.vy;
}

function petla(y){
ctx.fillRect(0,0,400,620);
for(y=100;y>0;y--){
arr[y].rysuj();
arr[y].next();}

window.requestAnimationFrame(petla);
}
petla(y);

var audio1 = new Audio('Highscore.mp3');
var audio2 = new Audio('Rumors.mp3');
var audio3 = new Audio('Teo.mp3');

document.addEventListener('keydown', (event) => {
  const keyName = event.key;
  //alert('keydown event\n\n' + 'key: ' + keyName);
  switch (keyName){
  case 'a': 
	{
		audio2.pause();
		audio3.pause();
		audio1.play();
		break;
	}
  case 's':
	{	
		audio1.pause();
		audio2.pause();
		audio3.pause();
		break;
	}
  case 'd':
	{
		audio1.pause();
		audio3.pause();
		audio2.play();
		break;
	}
	case 'd': 
	{
		audio1.pause();
		audio2.pause();
		audio3.play();
		break;
	}
  }
});
</script>
</body>
</html>