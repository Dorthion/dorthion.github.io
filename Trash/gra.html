<!DOCTYPE html>
<head>
	<meta charset="UTF-8">
	<meta lang="PL">
	<title>Last game</title>
	<link type="text/css" rel="stylesheet" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
	<script type="text/javascript" src="ladowanie.js"></script>
	<meta name="description" content="Witaj, tutaj znajdziesz fajna gierke" />
	<meta name="author" content="Dorthion" />
</head>
<body><div id="foo">
<canvas width="600px" height="400px" id="lol">
</canvas>
<button id="Przycisk" onclick="load('high.js')">Zaladuj Piosenke Highscore</button>
<span id="timer"></span> s</div>
<script>
	var plansza = document.querySelector('canvas');
	var ctx = plansza.getContext('2d');
	var k = new Kolko(100,100,25,"red",1,1)
	var x = 100,y=100;
	var arr=[];
	var radius = 70;
	
	var logo1= new Image(100,100);
	logo1.src = '1.png';
	document.body.appendChild(logo1);
	
function random(min,max){
	return Math.random()*(max-min)+min;
}	

for(;x>0;x--)
{
arr[x]=new Kolko(random(0,400),random(0,400),random(5,30)
,'rgba(50,100,100,0.4)'
,random(1,10),random(1,10));
}
var background = new Image ('PandaHighscore.jpg');

function Kolko(x,y,r,color,vx,vy)
{
	this.x=x;
	this.y=y;
	this.r=r;
	this.color=color;
	this.vy=vy;
	this.vx=vx;
}

Kolko.prototype.rysuj=function()
{	
	ctx.beginPath();
	ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI, false);
	//ctx.fillStyle = "gray";
	//ctx.drawImage(background,0,0); 
	document.body.canvas.style.background = "url(" + plansza.toDataURL(background) + ")";
	ctx.strokeStyle = 'rgba(0, 255, 255, 0.4)';
	ctx.fill();
	ctx.stroke();
}

Kolko.prototype.next=function(){
if(this.x+this.r<=0){
this.vx=-this.vx;

}
if(this.x+this.r>=600){
this.vx=-this.vx;

}
if(this.y+this.r>=600){
this.vy=-this.vy;

}
if(this.y+this.r<=0){
this.vy=-this.vy;

}
this.x+=this.vx;
this.y+=this.vy;
}

function petla(y){
ctx.fillRect(0,0,600,400);
for(y=100;y>0;y--){
arr[y].rysuj();
arr[y].next();
}

window.requestAnimationFrame(petla);
}
petla(y);

var audio1 = new Audio('Highscore.mp3');
var audio2 = new Audio('Rumors.mp3');
var audio3 = new Audio('Teo.mp3');

document.addEventListener('keydown', (event) => {
  const keyName = event.key;
  //alert('keydown event\n\n' + 'key: ' + keyName);
  switch (keyName){
  case 'a': 
	{
		audio2.pause();
		audio3.pause();
		audio1.play();
		break;
	}
  case 's':
	{	
		audio1.pause();
		audio2.pause();
		audio3.pause();
		break;
	}
  case 'd':
	{
		audio1.pause();
		audio3.pause();
		audio2.play();
		break;
	}
	case 'w': 
	{
		audio1.pause();
		audio2.pause();
		audio3.play();
		break;
	}
  }
  
  //var button=document.getElementById('#Przycisk');
//document.getElementById("myBtn").onclick
//document.getElementById("#Przycisk").onclick=console.log("wcisnieto");
	//button.onclick=()=>{
	///load("aha.js");
	//console.log("wcisnieto");
	
//}

var startTime = Date.now();

var interval = setInterval(function() {
    var elapsedTime = Date.now() - startTime;
    document.getElementById("timer").innerHTML = (elapsedTime / 1);
}, 1);
  
  
});
</script>
</body>
</html>